<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-38404388-22"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-38404388-22');
    </script>

    <!-- Primary Meta Tags -->
    <meta charset="utf-8">
    <title>Beats</title>
    <meta name="keywords" content="james, traf, james traf, simple, minimal, design, ux, ui, development, photography, montreal, instagram, dribbble">
    <meta name="description" content="A constant flow of lofi music">
    <meta name="author" content="@traf">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tr.af/">
    <meta property="og:title" content="Traf">
    <meta property="og:description" content="Experimental design lover">
    <meta property="og:image" content="/images/social.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="/images/social.jpg">
    <meta property="twitter:url" content="https://tr.af/">
    <meta property="twitter:title" content="Traf">
    <meta property="twitter:description" content="Experimental design lover">
    <meta property="twitter:image" content="/images/social.jpg">

    <link href="/images/favicon.ico" rel="shortcut icon">
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body class="animsition music">
  <nav class="nav">
  <a href="/" class="nav-logo"><img src="/images/logo-traf.png" alt="traf"/></a>
  <div class="nav-links">
    <a href="/projects.html" class="nav-link">Projects</a>
    <a href="/clients.html" class="nav-link">Clients</a>
    <a href="/moments.html" class="nav-link">Moments</a>
    <a href="/thoughts.html" class="nav-link">Thoughts</a>
    <a href="/supply.html" class="nav-link">Supply</a>
  </div>
  <button class="nav-toggle">
    <span class="line line-1"></span>
    <span class="line line-2"></span>
  </button>
</nav>
  <div class="hero hero-full">
    <div class="music-player" data-video="hHW1oY26kxQ" data-autoplay="0" data-loop="1" id="youtube-audio"></div>
    <svg class="music-bar" viewBox="0 0 20 20">
      <defs><rect id="def-rect" y="18" width="1" height="20" fill="#06f"/></defs>
      <use class="bar" xlink:href="#def-rect" x="0"/>
      <use class="bar" xlink:href="#def-rect" x="5"/>
      <use class="bar" xlink:href="#def-rect" x="10"/>
      <use class="bar" xlink:href="#def-rect" x="15"/>
    </svg>
    <p class="message">This page may not load if you're blocking ads. Click to dismiss.</p>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script src="js/scripts.min.js"></script>
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '5a24f09e0b35911b5f010af4');
    t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
    t.src = 'https://d2fuc4clr7gvcn.cloudfront.net/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
<script>
  $(document).ready(function(){

    if($(window).width() < 600){

      // Fade hero contents on scroll
      $(window).scroll(function(i){
        var scrollVar = $(window).scrollTop();
        $('.hero').css({'opacity':( 300-scrollVar )/300});
      });

    }
    else {

      // Fade hero contents on scroll
      $(window).scroll(function(i){
        var scrollVar = $(window).scrollTop();
        $('.hero').css({'opacity':( 440-scrollVar )/440});
      });

      // $(document).easteregg({
      //   sequence : [84, 82, 65, 70],
      //   callback : function () {
      //     alert('Traf!');
      //   }
      // });

    }

    // Nav toggle
    $('.nav-toggle').click(function(){
      $(this).toggleClass('toggle');
      $('.nav').toggleClass('nav-show');
      $('.nav-links').toggleClass('nav-links-show');
    });

    // Active nav link
    $('.nav-links a[href$="/' + location.pathname.split("/")[1] + '"]').addClass('nav-active');

    // Feather icons
    feather.replace()

    // Page transitions
    $(".animsition").animsition({
        linkElement: 'a:not([target="_blank"]):not([href^="#"])',
        linkElement: '.animsition-link',
        outDuration: 600,
        inDuration: 600,
    });

  });
</script>

  <script type="text/javascript" src="https://www.youtube.com/iframe_api"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>
<script>

  // Dismiss music message
  $('.music .message').click(function(){
    $(this).hide();
  })

  // Youtube audio
  var player;
  function onYouTubeIframeAPIReady() {
    var ctrlq = document.getElementById("youtube-audio");
    ctrlq.innerHTML = '<img id="youtube-icon" src=""/><div id="youtube-player"></div>';
    ctrlq.onclick = toggleAudio;
    player = new YT.Player('youtube-player', {
      height: '0',
      width: '0',
      videoId: ctrlq.dataset.video,
      playerVars: { autoplay: ctrlq.dataset.autoplay, loop: ctrlq.dataset.loop, },
      events: { 'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange }
    });
  }
  function togglePlayButton(play) {
    document.getElementById("youtube-icon").src = play ? "/images/icon-pause.png" : "/images/icon-play.png";
  }
  function toggleAudio() {
    if ( player.getPlayerState() == 1 || player.getPlayerState() == 3 ) {
      player.pauseVideo();
      togglePlayButton(false);
    } else {
      player.playVideo();
      togglePlayButton(true);
    }
  }
  function onPlayerReady(event) {
    player.setPlaybackQuality("small");
    document.getElementById("youtube-audio").style.display = "block";
    togglePlayButton(player.getPlayerState() !== 5);
  }
  function onPlayerStateChange(event) {
    if (event.data === 0) {
      togglePlayButton(false);
    }
  }

  // Music bar by Bruno Torrinha
  var bars = $('.music-bar .bar');
    var tl = (new TimelineMax()).staggerTo(bars, .4, {
      y: -10,
      repeat: -1,
      paused: false,
      yoyo: true,
      ease: Quad.easeInOut}, .25
    ).pause();
    $('.music-player').on('click', function(){
      tl.isActive() ? pause() : tl.play();
    });
    function pause() {
      tl.pause();
      TweenMax.to(bars, .7, {
        y: 0,
        ease: Quad.easeOut}
      );
    }

</script>
</body>
</html>



