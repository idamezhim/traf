<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="js/scripts.min.js"></script>
<script>
  $(function(){

    $(window).scroll(function(event){

      // Shrink nav on scroll
      var scroll = $(this).scrollTop();
      if (scroll > 0){
          $('.nav').addClass('nav-scrolled');
      } else {
          $('.nav').removeClass('nav-scrolled');
      }

      // Fade elements on scroll
      var s = $(window).scrollTop(),
      opacityVal = (s / 600);
      // $(".hero-footer").css("opacity", 1 - (s / 200));
      $(".down").css("opacity", 1 - opacityVal);

    });

    // Nav toggle
    $('.nav-toggle').click(function(){
      $(this).toggleClass('toggle');
      $('.nav-more').toggleClass('nav-more-show');
      $('.nav').toggleClass('nav-in-modal');
    });
    
    // Hide active nav link
    $('.nav-link[href$="/' + location.pathname.split("/")[1] + '"]').addClass('nav-active');

    // Email form
    $(".form").submit(function(e) {
      e.preventDefault();
      var $form = $(this);
      $.post($form.attr("action"), $form.serialize()).then(function() {
          $('.form-content').addClass('form-content-hide');
          $('.form-success').addClass('form-success-show');
      });
    });

    // Get weekday
    // var d = new Date();
    // var weekday = new Array(7);
    // weekday[0] = "Sunday";
    // weekday[1] = "Monday";
    // weekday[2] = "Tuesday";
    // weekday[3] = "Wednesday";
    // weekday[4] = "Thursday";
    // weekday[5] = "Friday";
    // weekday[6] = "Saturday";
    // var n = weekday[d.getDay()];
    // document.getElementById("weekday").innerHTML = n;

    // True 100vh
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
    window.addEventListener('resize', () => {
      let vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', `${vh}px`);
    });

    // Lax JS
    window.onload = function() {
	    lax.setup()
	    const updateLax = () => {
		    lax.update(window.scrollY)
		    window.requestAnimationFrame(updateLax)
	    }
	    window.requestAnimationFrame(updateLax)
    }

    // Feather icons
    feather.replace()

  });
</script>
